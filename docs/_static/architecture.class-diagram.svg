<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="884px" preserveAspectRatio="none" style="width:1043px;height:884px;background:#FFFFFF;" version="1.1" viewBox="0 0 1043 884" width="1043px" zoomAndPan="magnify"><defs><filter height="300%" id="f9lp70z4qrzqt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[e44418e4687c984c754524bc3e186003]
cluster md.message--><polygon fill="#FFFFFF" filter="url(#f9lp70z4qrzqt)" points="184,6,279,6,286,28.4883,921,28.4883,921,425,184,425,184,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="184" x2="286" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="89" x="188" y="21.5352">md.message</text><!--MD5=[55ffcbd48563db3368da3758848092d7]
cluster md.message.rabbitmq.pika--><polygon fill="#FFFFFF" filter="url(#f9lp70z4qrzqt)" points="16,449,214,449,221,471.4883,1026,471.4883,1026,877,16,877,16,449" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="221" y1="471.4883" y2="471.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="192" x="20" y="464.5352">md.message.rabbitmq.pika</text><!--MD5=[dd1f9f64d4aa0ccd2fcf50a4ae5bf505]
class MessageInterface--><rect codeLine="11" fill="#EBEBEB" filter="url(#f9lp70z4qrzqt)" height="60.9551" id="MessageInterface" style="stroke:#333333;stroke-width:1.5;" width="178" x="233" y="348"/><ellipse cx="268.7" cy="364" fill="#B4A7E5" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M264.6277,359.7651 L264.6277,357.6069 L272.0071,357.6069 L272.0071,359.7651 L269.5418,359.7651 L269.5418,367.8418 L272.0071,367.8418 L272.0071,370 L264.6277,370 L264.6277,367.8418 L267.0931,367.8418 L267.0931,359.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="100" x="287.3" y="368.5352">MessageInterface</text><line style="stroke:#333333;stroke-width:1.5;" x1="234" x2="410" y1="380" y2="380"/><line style="stroke:#333333;stroke-width:1.5;" x1="234" x2="410" y1="388" y2="388"/><ellipse cx="244" cy="399" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="152" x="253" y="402.6348">get_payload() -&gt; typing.Any</text><!--MD5=[f8468286c35b1dd5b14cc3cc74d104e4]
class SendInterface--><rect codeLine="15" fill="#EBEBEB" filter="url(#f9lp70z4qrzqt)" height="60.9551" id="SendInterface" style="stroke:#333333;stroke-width:1.5;" width="255" x="649.5" y="214"/><ellipse cx="733.75" cy="230" fill="#B4A7E5" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M729.6777,225.7651 L729.6777,223.6069 L737.0571,223.6069 L737.0571,225.7651 L734.5918,225.7651 L734.5918,233.8418 L737.0571,233.8418 L737.0571,236 L729.6777,236 L729.6777,233.8418 L732.1431,233.8418 L732.1431,225.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="78" x="754.25" y="234.5352">SendInterface</text><line style="stroke:#333333;stroke-width:1.5;" x1="650.5" x2="903.5" y1="246" y2="246"/><line style="stroke:#333333;stroke-width:1.5;" x1="650.5" x2="903.5" y1="254" y2="254"/><ellipse cx="660.5" cy="265" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="229" x="669.5" y="268.6348">send(message: MessageInterface) -&gt; None</text><!--MD5=[4d504bc4481b6dd147d4ca2c0803c122]
class ReceiveInterface--><rect codeLine="20" fill="#EBEBEB" filter="url(#f9lp70z4qrzqt)" height="86.8652" id="ReceiveInterface" style="stroke:#333333;stroke-width:1.5;" width="271" x="343.5" y="201"/><ellipse cx="427.75" cy="217" fill="#B4A7E5" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M423.6777,212.7651 L423.6777,210.6069 L431.0571,210.6069 L431.0571,212.7651 L428.5918,212.7651 L428.5918,220.8418 L431.0571,220.8418 L431.0571,223 L423.6777,223 L423.6777,220.8418 L426.1431,220.8418 L426.1431,212.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="94" x="448.25" y="221.5352">ReceiveInterface</text><line style="stroke:#333333;stroke-width:1.5;" x1="344.5" x2="613.5" y1="233" y2="233"/><ellipse cx="354.5" cy="244" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="245" x="363.5" y="247.6348">receive() -&gt; typing.Iterable[MessageInterface]</text><line style="stroke:#333333;stroke-width:1.0;" x1="344.5" x2="613.5" y1="253.9551" y2="253.9551"/><ellipse cx="354.5" cy="264.9551" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="238" x="363.5" y="268.5898">accept(message: MessageInterface) -&gt; None</text><ellipse cx="354.5" cy="277.9102" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="233" x="363.5" y="281.5449">reject(message: MessageInterface) -&gt; None</text><!--MD5=[7be46afbfb344b34e40869949f34e0e1]
class HandleInterface--><rect codeLine="27" fill="#EBEBEB" filter="url(#f9lp70z4qrzqt)" height="60.9551" id="HandleInterface" style="stroke:#333333;stroke-width:1.5;" width="265" x="200.5" y="60.5"/><ellipse cx="283.25" cy="76.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M279.1777,72.2651 L279.1777,70.1069 L286.5571,70.1069 L286.5571,72.2651 L284.0918,72.2651 L284.0918,80.3418 L286.5571,80.3418 L286.5571,82.5 L279.1777,82.5 L279.1777,80.3418 L281.6431,80.3418 L281.6431,72.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="91" x="303.75" y="81.0352">HandleInterface</text><line style="stroke:#333333;stroke-width:1.5;" x1="201.5" x2="464.5" y1="92.5" y2="92.5"/><line style="stroke:#333333;stroke-width:1.5;" x1="201.5" x2="464.5" y1="100.5" y2="100.5"/><ellipse cx="211.5" cy="111.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="239" x="220.5" y="115.1348">handle(message: MessageInterface) -&gt; None</text><!--MD5=[d48aaf17564ac6ec40f7427532eff093]
class ReceiveApplication--><rect codeLine="31" fill="#EBEBEB" filter="url(#f9lp70z4qrzqt)" height="99.8203" id="ReceiveApplication" style="stroke:#333333;stroke-width:1.5;" width="404" x="501" y="41"/><ellipse cx="644.75" cy="57" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M647.7231,62.6431 Q647.1421,62.9419 646.5029,63.0913 Q645.8638,63.2407 645.1582,63.2407 Q642.6514,63.2407 641.3315,61.5889 Q640.0117,59.937 640.0117,56.8159 Q640.0117,53.6865 641.3315,52.0347 Q642.6514,50.3828 645.1582,50.3828 Q645.8638,50.3828 646.5112,50.5322 Q647.1587,50.6816 647.7231,50.9805 L647.7231,53.7031 Q647.0923,53.1221 646.4988,52.8523 Q645.9053,52.5825 645.2744,52.5825 Q643.9297,52.5825 643.2449,53.6492 Q642.5601,54.7158 642.5601,56.8159 Q642.5601,58.9077 643.2449,59.9744 Q643.9297,61.041 645.2744,61.041 Q645.9053,61.041 646.4988,60.7712 Q647.0923,60.5015 647.7231,59.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="665.25" y="61.5352">ReceiveApplication</text><line style="stroke:#333333;stroke-width:1.5;" x1="502" x2="904" y1="73" y2="73"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="509" y="81"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="184" x="521" y="87.6348">receive_message: ReceiveInterface</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="509" y="93.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="179" x="521" y="100.5898">handle_message: HandleInterface</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="509" y="106.9102"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="378" x="521" y="113.5449">retry_message_exception: typing.Tuple[typing.Union[Exception, type]]</text><line style="stroke:#333333;stroke-width:1.0;" x1="502" x2="904" y1="119.8652" y2="119.8652"/><ellipse cx="512" cy="130.8652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76" x="521" y="134.5">run() -&gt; None</text><!--MD5=[bea5b0d46523efab5ea1c1d339f396f0]
class Message--><rect codeLine="50" fill="#EBEBEB" filter="url(#f9lp70z4qrzqt)" height="112.7754" id="Message" style="stroke:#333333;stroke-width:1.5;" width="241" x="32.5" y="497"/><ellipse cx="123.75" cy="513" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M126.7231,518.6431 Q126.1421,518.9419 125.5029,519.0913 Q124.8638,519.2407 124.1582,519.2407 Q121.6514,519.2407 120.3315,517.5889 Q119.0117,515.937 119.0117,512.8159 Q119.0117,509.6865 120.3315,508.0347 Q121.6514,506.3828 124.1582,506.3828 Q124.8638,506.3828 125.5112,506.5322 Q126.1587,506.6816 126.7231,506.9805 L126.7231,509.7031 Q126.0923,509.1221 125.4988,508.8523 Q124.9053,508.5825 124.2744,508.5825 Q122.9297,508.5825 122.2449,509.6492 Q121.5601,510.7158 121.5601,512.8159 Q121.5601,514.9077 122.2449,515.9744 Q122.9297,517.041 124.2744,517.041 Q124.9053,517.041 125.4988,516.7712 Q126.0923,516.5015 126.7231,515.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="50" x="144.25" y="517.5352">Message</text><line style="stroke:#333333;stroke-width:1.5;" x1="33.5" x2="272.5" y1="529" y2="529"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40.5" y="537"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="162" x="52.5" y="543.6348">channel: pika.channel.Channel</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40.5" y="549.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="204" x="52.5" y="556.5898">method_frame: pika.spec.Basic.Deliver</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40.5" y="562.9102"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="215" x="52.5" y="569.5449">header_frame: pika.spec.BasicProperties</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40.5" y="575.8652"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="62" x="52.5" y="582.5">body: bytes</text><line style="stroke:#333333;stroke-width:1.0;" x1="33.5" x2="272.5" y1="588.8203" y2="588.8203"/><ellipse cx="43.5" cy="599.8203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="52.5" y="603.4551">get_payload() -&gt; bytes</text><!--MD5=[9effec71c8a6e5b704d3b244cabb66e6]
class Send--><rect codeLine="59" fill="#EBEBEB" filter="url(#f9lp70z4qrzqt)" height="99.8203" id="Send" style="stroke:#333333;stroke-width:1.5;" width="325" x="684.5" y="503.5"/><ellipse cx="828.75" cy="519.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M831.7231,525.1431 Q831.1421,525.4419 830.5029,525.5913 Q829.8638,525.7407 829.1582,525.7407 Q826.6514,525.7407 825.3315,524.0889 Q824.0117,522.437 824.0117,519.3159 Q824.0117,516.1865 825.3315,514.5347 Q826.6514,512.8828 829.1582,512.8828 Q829.8638,512.8828 830.5112,513.0322 Q831.1587,513.1816 831.7231,513.4805 L831.7231,516.2031 Q831.0923,515.6221 830.4988,515.3523 Q829.9053,515.0825 829.2744,515.0825 Q827.9297,515.0825 827.2449,516.1492 Q826.5601,517.2158 826.5601,519.3159 Q826.5601,521.4077 827.2449,522.4744 Q827.9297,523.541 829.2744,523.541 Q829.9053,523.541 830.4988,523.2712 Q831.0923,523.0015 831.7231,522.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28" x="849.25" y="524.0352">Send</text><line style="stroke:#333333;stroke-width:1.5;" x1="685.5" x2="1008.5" y1="535.5" y2="535.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="692.5" y="543.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="198" x="704.5" y="550.1348">connection: pika.BlockingConnection</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="692.5" y="556.4551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="704.5" y="563.0898">exchange: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="692.5" y="569.4102"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="704.5" y="576.0449">routing_key: str</text><line style="stroke:#333333;stroke-width:1.0;" x1="685.5" x2="1008.5" y1="582.3652" y2="582.3652"/><ellipse cx="695.5" cy="593.3652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="299" x="704.5" y="597">send(message: md.message.MessageInterface) -&gt; None</text><!--MD5=[67ea9f8eb7ab97465d83c225b092f5fe]
class Consumer--><rect codeLine="67" fill="#EBEBEB" filter="url(#f9lp70z4qrzqt)" height="177.5508" id="Consumer" style="stroke:#333333;stroke-width:1.5;" width="453" x="252.5" y="683"/><ellipse cx="445.75" cy="699" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M448.7231,704.6431 Q448.1421,704.9419 447.5029,705.0913 Q446.8638,705.2407 446.1582,705.2407 Q443.6514,705.2407 442.3315,703.5889 Q441.0117,701.937 441.0117,698.8159 Q441.0117,695.6865 442.3315,694.0347 Q443.6514,692.3828 446.1582,692.3828 Q446.8638,692.3828 447.5112,692.5322 Q448.1587,692.6816 448.7231,692.9805 L448.7231,695.7031 Q448.0923,695.1221 447.4988,694.8523 Q446.9053,694.5825 446.2744,694.5825 Q444.9297,694.5825 444.2449,695.6492 Q443.5601,696.7158 443.5601,698.8159 Q443.5601,700.9077 444.2449,701.9744 Q444.9297,703.041 446.2744,703.041 Q446.9053,703.041 447.4988,702.7712 Q448.0923,702.5015 448.7231,701.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="58" x="466.25" y="703.5352">Consumer</text><line style="stroke:#333333;stroke-width:1.5;" x1="253.5" x2="704.5" y1="715" y2="715"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="260.5" y="723"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="201" x="272.5" y="729.6348">connection: pika.BlockingConnection,</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="260.5" y="735.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="157" x="272.5" y="742.5898">internal_queue: queue.Queue</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="260.5" y="748.9102"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="272.5" y="755.5449">queue_name: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="260.5" y="761.8652"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="272.5" y="768.5">prefetch_count: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="260.5" y="774.8203"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="272.5" y="781.4551">queue_durable: bool</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="260.5" y="787.7754"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="272.5" y="794.4102">message_requeue: bool</text><line style="stroke:#333333;stroke-width:1.0;" x1="253.5" x2="704.5" y1="800.7305" y2="800.7305"/><ellipse cx="263.5" cy="811.7305" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76" x="272.5" y="815.3652">run() -&gt; None</text><ellipse cx="263.5" cy="824.6855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="272.5" y="828.3203">stop() -&gt; None</text><ellipse cx="263.5" cy="837.6406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="427" x="272.5" y="841.2754">accept(channel: pika.channel.Channel, method: pika.spec.Basic.Deliver) -&gt; None</text><ellipse cx="263.5" cy="850.5957" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="422" x="272.5" y="854.2305">reject(channel: pika.channel.Channel, method: pika.spec.Basic.Deliver) -&gt; None</text><!--MD5=[8eed34a3206921c8108be20124a9894d]
class Receive--><rect codeLine="81" fill="#EBEBEB" filter="url(#f9lp70z4qrzqt)" height="138.6855" id="Receive" style="stroke:#333333;stroke-width:1.5;" width="341" x="308.5" y="484"/><ellipse cx="452.75" cy="500" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M455.7231,505.6431 Q455.1421,505.9419 454.5029,506.0913 Q453.8638,506.2407 453.1582,506.2407 Q450.6514,506.2407 449.3315,504.5889 Q448.0117,502.937 448.0117,499.8159 Q448.0117,496.6865 449.3315,495.0347 Q450.6514,493.3828 453.1582,493.3828 Q453.8638,493.3828 454.5112,493.5322 Q455.1587,493.6816 455.7231,493.9805 L455.7231,496.7031 Q455.0923,496.1221 454.4988,495.8523 Q453.9053,495.5825 453.2744,495.5825 Q451.9297,495.5825 451.2449,496.6492 Q450.5601,497.7158 450.5601,499.8159 Q450.5601,501.9077 451.2449,502.9744 Q451.9297,504.041 453.2744,504.041 Q453.9053,504.041 454.4988,503.7712 Q455.0923,503.5015 455.7231,502.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="473.25" y="504.5352">Receive</text><line style="stroke:#333333;stroke-width:1.5;" x1="309.5" x2="648.5" y1="516" y2="516"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="316.5" y="524"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="328.5" y="530.6348">consumer: Consumer</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="316.5" y="536.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="157" x="328.5" y="543.5898">internal_queue: queue.Queue</text><line style="stroke:#333333;stroke-width:1.0;" x1="309.5" x2="648.5" y1="549.9102" y2="549.9102"/><ellipse cx="319.5" cy="560.9102" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="328.5" y="564.5449">start() -&gt; None</text><ellipse cx="319.5" cy="573.8652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="328.5" y="577.5">stop() -&gt; None</text><ellipse cx="319.5" cy="586.8203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="315" x="328.5" y="590.4551">receive() -&gt; typing.Iterable[md.message.MessageInterface]</text><ellipse cx="319.5" cy="599.7754" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="191" x="328.5" y="603.4102">accept(message: Message) -&gt; None</text><ellipse cx="319.5" cy="612.7305" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="186" x="328.5" y="616.3652">reject(message: Message) -&gt; None</text><!--MD5=[caf5bdddd0fb1ee3a50d64ea6c30535d]
link SendInterface to MessageInterface--><path codeLine="41" d="M667,275.02 C667,314.7 667,379 667,379 C667,379 513.52,379 411.29,379 " fill="none" id="SendInterface-MessageInterface" style="stroke:#333333;stroke-width:1.0;"/><polygon fill="#000000" points="539.5083,372.5387,548.9942,371.854,546.7801,366.4091,539.5083,372.5387" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="553.14" y="375.5684">Sends</text><!--MD5=[8d1ec2c253dbce3519d264e1aeee2a6c]
link HandleInterface to MessageInterface--><path codeLine="42" d="M288.25,121.77 C288.25,177.1 288.25,292.78 288.25,347.95 " fill="none" id="HandleInterface-MessageInterface" style="stroke:#333333;stroke-width:1.0;"/><polygon fill="#000000" points="227.25,231.5153,230.1889,222.4702,224.3111,222.4702,227.25,231.5153" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="236.25" y="231.4284">Handles</text><!--MD5=[26e4c9f53f96b8d60244026918f3e2e8]
link ReceiveInterface to MessageInterface--><path codeLine="43" d="M377.25,288.01 C377.25,307.57 377.25,330.19 377.25,347.93 " fill="none" id="ReceiveInterface-MessageInterface" style="stroke:#333333;stroke-width:1.0;"/><polygon fill="#000000" points="313.25,314.6253,316.1889,305.5802,310.3111,305.5802,313.25,314.6253" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="322.25" y="314.5384">Receives</text><!--MD5=[bf706d96003145ad88542f1673d8eb8f]
link ReceiveApplication to ReceiveInterface--><path codeLine="45" d="M557.75,153.26 C557.75,153.26 557.75,187.83 557.75,187.83 " fill="none" id="ReceiveApplication-ReceiveInterface" style="stroke:#333333;stroke-width:1.0;"/><polygon fill="#333333" points="557.75,200.83,561.75,191.83,557.75,195.83,553.75,191.83,557.75,200.83" style="stroke:#333333;stroke-width:1.0;"/><line style="stroke:#333333;stroke-width:1.0;" x1="557.75" x2="557.75" y1="195.83" y2="187.83"/><polygon fill="#333333" points="557.75,141.26,553.75,147.26,557.75,153.26,561.75,147.26,557.75,141.26" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[d2f3ad44288db5aad64de58a8fb12db1]
link ReceiveApplication to HandleInterface--><path codeLine="46" d="M488.95,91 C488.95,91 478.95,91 478.95,91 " fill="none" id="ReceiveApplication-HandleInterface" style="stroke:#333333;stroke-width:1.0;"/><polygon fill="#333333" points="465.95,91,474.95,95,470.95,91,474.95,87,465.95,91" style="stroke:#333333;stroke-width:1.0;"/><line style="stroke:#333333;stroke-width:1.0;" x1="470.95" x2="478.95" y1="91" y2="91"/><polygon fill="#333333" points="500.95,91,494.95,87,488.95,91,494.95,95,500.95,91" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[78080a69bbc9f5c45489fb5359dadbea]
reverse link MessageInterface to Message--><path d="M253.25,429.38 C253.25,429.38 253.25,496.77 253.25,496.77 " fill="none" id="MessageInterface-backto-Message" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="246.25,429.38,253.25,409.38,260.25,429.38,246.25,429.38" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[e40aeedfdc0be0aafaa41630d367659e]
reverse link SendInterface to Send--><path d="M794.5,295.26 C794.5,295.26 794.5,503.33 794.5,503.33 " fill="none" id="SendInterface-backto-Send" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="787.5,295.26,794.5,275.26,801.5,295.26,787.5,295.26" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[cbe2dec1284ace3f79706db8c1b0d779]
reverse link ReceiveInterface to Receive--><path d="M512.75,308.12 C512.75,308.12 512.75,483.91 512.75,483.91 " fill="none" id="ReceiveInterface-backto-Receive" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="505.75,308.12,512.75,288.12,519.75,308.12,505.75,308.12" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[30a769a4d0d1a451f6e65e91d5aaf647]
link Receive to Consumer--><path codeLine="92" d="M479,635.24 C479,635.24 479,669.94 479,669.94 " fill="none" id="Receive-Consumer" style="stroke:#333333;stroke-width:1.0;"/><polygon fill="#333333" points="479,682.94,483,673.94,479,677.94,475,673.94,479,682.94" style="stroke:#333333;stroke-width:1.0;"/><line style="stroke:#333333;stroke-width:1.0;" x1="479" x2="479" y1="677.94" y2="669.94"/><polygon fill="#333333" points="479,623.24,475,629.24,479,635.24,483,629.24,479,623.24" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[dd1390e84c6a74471518ec82c368295a]
@startuml

skinparam class {
  BackgroundColor #ebebeb
  ArrowColor      #333
  BorderColor     #333
}

skinparam lineType ortho

package md.message {
  interface MessageInterface {
    + get_payload() -> typing.Any
  }

  interface SendInterface {
    + send(message: MessageInterface) -> None
  }


  interface ReceiveInterface{
    + receive() -> typing.Iterable[MessageInterface]
    - -
    + accept(message: MessageInterface) -> None
    + reject(message: MessageInterface) -> None
  }

  interface HandleInterface {
    + handle(message: MessageInterface) -> None
  }

  class ReceiveApplication {
    - receive_message: ReceiveInterface
    - handle_message: HandleInterface
    - retry_message_exception: typing.Tuple[typing.Union[Exception, type]]
    - - -
    + run() -> None
  }
}


SendInterface - - MessageInterface : "Sends >"
HandleInterface - - - MessageInterface : "Handles >"
ReceiveInterface - - MessageInterface : "Receives >"

ReceiveApplication *-> ReceiveInterface
ReceiveApplication *-> HandleInterface


package md.message.rabbitmq.pika {
  class Message implements MessageInterface {
    - channel: pika.channel.Channel
    - method_frame: pika.spec.Basic.Deliver
    - header_frame: pika.spec.BasicProperties
    - body: bytes
    - - -
    + get_payload() -> bytes
  }

  class Send implements SendInterface {
    - connection: pika.BlockingConnection
    - exchange: str
    - routing_key: str
    - - -
    + send(message: md.message.MessageInterface) -> None
  }

  class Consumer {
    - connection: pika.BlockingConnection,
    - internal_queue: queue.Queue
    - queue_name: str
    - prefetch_count: int
    - queue_durable: bool
    - message_requeue: bool
    - - -
    + run() -> None
    + stop() -> None
    + accept(channel: pika.channel.Channel, method: pika.spec.Basic.Deliver) -> None
    + reject(channel: pika.channel.Channel, method: pika.spec.Basic.Deliver) -> None
  }

  class Receive implements ReceiveInterface {
      - consumer: Consumer
      - internal_queue: queue.Queue
      - - -
      + start() -> None
      + stop() -> None
      + receive() -> typing.Iterable[md.message.MessageInterface]
      + accept(message: Message) -> None
      + reject(message: Message) -> None
  }

  Receive *- -> Consumer
'  Send - - Message
'  Receive - - Message
}


@enduml

@startuml

skinparam class {
  BackgroundColor #ebebeb
  ArrowColor      #333
  BorderColor     #333
}

skinparam lineType ortho

package md.message {
  interface MessageInterface {
    + get_payload() -> typing.Any
  }

  interface SendInterface {
    + send(message: MessageInterface) -> None
  }


  interface ReceiveInterface{
    + receive() -> typing.Iterable[MessageInterface]
    - -
    + accept(message: MessageInterface) -> None
    + reject(message: MessageInterface) -> None
  }

  interface HandleInterface {
    + handle(message: MessageInterface) -> None
  }

  class ReceiveApplication {
    - receive_message: ReceiveInterface
    - handle_message: HandleInterface
    - retry_message_exception: typing.Tuple[typing.Union[Exception, type]]
    - - -
    + run() -> None
  }
}


SendInterface - - MessageInterface : "Sends >"
HandleInterface - - - MessageInterface : "Handles >"
ReceiveInterface - - MessageInterface : "Receives >"

ReceiveApplication *-> ReceiveInterface
ReceiveApplication *-> HandleInterface


package md.message.rabbitmq.pika {
  class Message implements MessageInterface {
    - channel: pika.channel.Channel
    - method_frame: pika.spec.Basic.Deliver
    - header_frame: pika.spec.BasicProperties
    - body: bytes
    - - -
    + get_payload() -> bytes
  }

  class Send implements SendInterface {
    - connection: pika.BlockingConnection
    - exchange: str
    - routing_key: str
    - - -
    + send(message: md.message.MessageInterface) -> None
  }

  class Consumer {
    - connection: pika.BlockingConnection,
    - internal_queue: queue.Queue
    - queue_name: str
    - prefetch_count: int
    - queue_durable: bool
    - message_requeue: bool
    - - -
    + run() -> None
    + stop() -> None
    + accept(channel: pika.channel.Channel, method: pika.spec.Basic.Deliver) -> None
    + reject(channel: pika.channel.Channel, method: pika.spec.Basic.Deliver) -> None
  }

  class Receive implements ReceiveInterface {
      - consumer: Consumer
      - internal_queue: queue.Queue
      - - -
      + start() -> None
      + stop() -> None
      + receive() -> typing.Iterable[md.message.MessageInterface]
      + accept(message: Message) -> None
      + reject(message: Message) -> None
  }

  Receive *- -> Consumer
}


@enduml

PlantUML version 1.2022.0(Tue Jan 11 19:16:42 MSK 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ru
Country: RU
--></g></svg>