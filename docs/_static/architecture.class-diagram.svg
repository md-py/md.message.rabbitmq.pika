<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="884px" preserveAspectRatio="none" style="width:1086px;height:884px;background:#FFFFFF;" version="1.1" viewBox="0 0 1086 884" width="1086px" zoomAndPan="magnify"><defs><filter height="300%" id="f1pc32y27dzask" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[e44418e4687c984c754524bc3e186003]
cluster md.message--><polygon fill="#FFFFFF" filter="url(#f1pc32y27dzask)" points="196,6,291,6,298,28.4883,977,28.4883,977,425,196,425,196,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="196" x2="298" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="89" x="200" y="21.5352">md.message</text><!--MD5=[55ffcbd48563db3368da3758848092d7]
cluster md.message.rabbitmq.pika--><polygon fill="#FFFFFF" filter="url(#f1pc32y27dzask)" points="16,449,214,449,221,471.4883,1069,471.4883,1069,877,16,877,16,449" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="221" y1="471.4883" y2="471.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="192" x="20" y="464.5352">md.message.rabbitmq.pika</text><!--MD5=[dd1f9f64d4aa0ccd2fcf50a4ae5bf505]
class MessageInterface--><rect codeLine="11" fill="#EBEBEB" filter="url(#f1pc32y27dzask)" height="60.9551" id="MessageInterface" style="stroke:#333333;stroke-width:1.5;" width="178" x="282" y="348"/><ellipse cx="317.7" cy="364" fill="#B4A7E5" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M313.6277,359.7651 L313.6277,357.6069 L321.0071,357.6069 L321.0071,359.7651 L318.5418,359.7651 L318.5418,367.8418 L321.0071,367.8418 L321.0071,370 L313.6277,370 L313.6277,367.8418 L316.0931,367.8418 L316.0931,359.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="100" x="336.3" y="368.5352">MessageInterface</text><line style="stroke:#333333;stroke-width:1.5;" x1="283" x2="459" y1="380" y2="380"/><line style="stroke:#333333;stroke-width:1.5;" x1="283" x2="459" y1="388" y2="388"/><ellipse cx="293" cy="399" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="152" x="302" y="402.6348">get_payload() -&gt; typing.Any</text><!--MD5=[f8468286c35b1dd5b14cc3cc74d104e4]
class SendInterface--><rect codeLine="15" fill="#EBEBEB" filter="url(#f1pc32y27dzask)" height="60.9551" id="SendInterface" style="stroke:#333333;stroke-width:1.5;" width="255" x="696.5" y="214"/><ellipse cx="780.75" cy="230" fill="#B4A7E5" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M776.6777,225.7651 L776.6777,223.6069 L784.0571,223.6069 L784.0571,225.7651 L781.5918,225.7651 L781.5918,233.8418 L784.0571,233.8418 L784.0571,236 L776.6777,236 L776.6777,233.8418 L779.1431,233.8418 L779.1431,225.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="78" x="801.25" y="234.5352">SendInterface</text><line style="stroke:#333333;stroke-width:1.5;" x1="697.5" x2="950.5" y1="246" y2="246"/><line style="stroke:#333333;stroke-width:1.5;" x1="697.5" x2="950.5" y1="254" y2="254"/><ellipse cx="707.5" cy="265" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="229" x="716.5" y="268.6348">send(message: MessageInterface) -&gt; None</text><!--MD5=[4d504bc4481b6dd147d4ca2c0803c122]
class ReceiveInterface--><rect codeLine="19" fill="#EBEBEB" filter="url(#f1pc32y27dzask)" height="86.8652" id="ReceiveInterface" style="stroke:#333333;stroke-width:1.5;" width="271" x="386.5" y="201"/><ellipse cx="470.75" cy="217" fill="#B4A7E5" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M466.6777,212.7651 L466.6777,210.6069 L474.0571,210.6069 L474.0571,212.7651 L471.5918,212.7651 L471.5918,220.8418 L474.0571,220.8418 L474.0571,223 L466.6777,223 L466.6777,220.8418 L469.1431,220.8418 L469.1431,212.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="94" x="491.25" y="221.5352">ReceiveInterface</text><line style="stroke:#333333;stroke-width:1.5;" x1="387.5" x2="656.5" y1="233" y2="233"/><ellipse cx="397.5" cy="244" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="245" x="406.5" y="247.6348">receive() -&gt; typing.Iterable[MessageInterface]</text><line style="stroke:#333333;stroke-width:1.0;" x1="387.5" x2="656.5" y1="253.9551" y2="253.9551"/><ellipse cx="397.5" cy="264.9551" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="238" x="406.5" y="268.5898">accept(message: MessageInterface) -&gt; None</text><ellipse cx="397.5" cy="277.9102" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="233" x="406.5" y="281.5449">reject(message: MessageInterface) -&gt; None</text><!--MD5=[7be46afbfb344b34e40869949f34e0e1]
class HandleInterface--><rect codeLine="26" fill="#EBEBEB" filter="url(#f1pc32y27dzask)" height="60.9551" id="HandleInterface" style="stroke:#333333;stroke-width:1.5;" width="265" x="212.5" y="60.5"/><ellipse cx="295.25" cy="76.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M291.1777,72.2651 L291.1777,70.1069 L298.5571,70.1069 L298.5571,72.2651 L296.0918,72.2651 L296.0918,80.3418 L298.5571,80.3418 L298.5571,82.5 L291.1777,82.5 L291.1777,80.3418 L293.6431,80.3418 L293.6431,72.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="91" x="315.75" y="81.0352">HandleInterface</text><line style="stroke:#333333;stroke-width:1.5;" x1="213.5" x2="476.5" y1="92.5" y2="92.5"/><line style="stroke:#333333;stroke-width:1.5;" x1="213.5" x2="476.5" y1="100.5" y2="100.5"/><ellipse cx="223.5" cy="111.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="239" x="232.5" y="115.1348">handle(message: MessageInterface) -&gt; None</text><!--MD5=[d48aaf17564ac6ec40f7427532eff093]
class ReceiveApplication--><rect codeLine="30" fill="#EBEBEB" filter="url(#f1pc32y27dzask)" height="99.8203" id="ReceiveApplication" style="stroke:#333333;stroke-width:1.5;" width="448" x="513" y="41"/><ellipse cx="678.75" cy="57" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M681.7231,62.6431 Q681.1421,62.9419 680.5029,63.0913 Q679.8638,63.2407 679.1582,63.2407 Q676.6514,63.2407 675.3315,61.5889 Q674.0117,59.937 674.0117,56.8159 Q674.0117,53.6865 675.3315,52.0347 Q676.6514,50.3828 679.1582,50.3828 Q679.8638,50.3828 680.5112,50.5322 Q681.1587,50.6816 681.7231,50.9805 L681.7231,53.7031 Q681.0923,53.1221 680.4988,52.8523 Q679.9053,52.5825 679.2744,52.5825 Q677.9297,52.5825 677.2449,53.6492 Q676.5601,54.7158 676.5601,56.8159 Q676.5601,58.9077 677.2449,59.9744 Q677.9297,61.041 679.2744,61.041 Q679.9053,61.041 680.4988,60.7712 Q681.0923,60.5015 681.7231,59.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="699.25" y="61.5352">ReceiveApplication</text><line style="stroke:#333333;stroke-width:1.5;" x1="514" x2="960" y1="73" y2="73"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="521" y="81"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="184" x="533" y="87.6348">receive_message: ReceiveInterface</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="521" y="93.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="179" x="533" y="100.5898">handle_message: HandleInterface</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="521" y="106.9102"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="422" x="533" y="113.5449">retry_exception: Union[Exception, type, Tuple[Union[Exception, type]]] = None</text><line style="stroke:#333333;stroke-width:1.0;" x1="514" x2="960" y1="119.8652" y2="119.8652"/><ellipse cx="524" cy="130.8652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76" x="533" y="134.5">run() -&gt; None</text><!--MD5=[bea5b0d46523efab5ea1c1d339f396f0]
class Message--><rect codeLine="49" fill="#EBEBEB" filter="url(#f1pc32y27dzask)" height="112.7754" id="Message" style="stroke:#333333;stroke-width:1.5;" width="284" x="32" y="497"/><ellipse cx="144.75" cy="513" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M147.7231,518.6431 Q147.1421,518.9419 146.5029,519.0913 Q145.8638,519.2407 145.1582,519.2407 Q142.6514,519.2407 141.3315,517.5889 Q140.0117,515.937 140.0117,512.8159 Q140.0117,509.6865 141.3315,508.0347 Q142.6514,506.3828 145.1582,506.3828 Q145.8638,506.3828 146.5112,506.5322 Q147.1587,506.6816 147.7231,506.9805 L147.7231,509.7031 Q147.0923,509.1221 146.4988,508.8523 Q145.9053,508.5825 145.2744,508.5825 Q143.9297,508.5825 143.2449,509.6492 Q142.5601,510.7158 142.5601,512.8159 Q142.5601,514.9077 143.2449,515.9744 Q143.9297,517.041 145.2744,517.041 Q145.9053,517.041 146.4988,516.7712 Q147.0923,516.5015 147.7231,515.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="50" x="165.25" y="517.5352">Message</text><line style="stroke:#333333;stroke-width:1.5;" x1="33" x2="315" y1="529" y2="529"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="537"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="62" x="52" y="543.6348">body: bytes</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="549.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="205" x="52" y="556.5898">channel: pika.channel.Channel = None</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="562.9102"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="247" x="52" y="569.5449">method_frame: pika.spec.Basic.Deliver = None</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="575.8652"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="258" x="52" y="582.5">header_frame: pika.spec.BasicProperties = None</text><line style="stroke:#333333;stroke-width:1.0;" x1="33" x2="315" y1="588.8203" y2="588.8203"/><ellipse cx="43" cy="599.8203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="52" y="603.4551">get_payload() -&gt; bytes</text><!--MD5=[9effec71c8a6e5b704d3b244cabb66e6]
class Send--><rect codeLine="58" fill="#EBEBEB" filter="url(#f1pc32y27dzask)" height="99.8203" id="Send" style="stroke:#333333;stroke-width:1.5;" width="325" x="727.5" y="503.5"/><ellipse cx="871.75" cy="519.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M874.7231,525.1431 Q874.1421,525.4419 873.5029,525.5913 Q872.8638,525.7407 872.1582,525.7407 Q869.6514,525.7407 868.3315,524.0889 Q867.0117,522.437 867.0117,519.3159 Q867.0117,516.1865 868.3315,514.5347 Q869.6514,512.8828 872.1582,512.8828 Q872.8638,512.8828 873.5112,513.0322 Q874.1587,513.1816 874.7231,513.4805 L874.7231,516.2031 Q874.0923,515.6221 873.4988,515.3523 Q872.9053,515.0825 872.2744,515.0825 Q870.9297,515.0825 870.2449,516.1492 Q869.5601,517.2158 869.5601,519.3159 Q869.5601,521.4077 870.2449,522.4744 Q870.9297,523.541 872.2744,523.541 Q872.9053,523.541 873.4988,523.2712 Q874.0923,523.0015 874.7231,522.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28" x="892.25" y="524.0352">Send</text><line style="stroke:#333333;stroke-width:1.5;" x1="728.5" x2="1051.5" y1="535.5" y2="535.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="735.5" y="543.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="198" x="747.5" y="550.1348">connection: pika.BlockingConnection</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="735.5" y="556.4551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="747.5" y="563.0898">exchange: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="735.5" y="569.4102"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="747.5" y="576.0449">routing_key: str</text><line style="stroke:#333333;stroke-width:1.0;" x1="728.5" x2="1051.5" y1="582.3652" y2="582.3652"/><ellipse cx="738.5" cy="593.3652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="299" x="747.5" y="597">send(message: md.message.MessageInterface) -&gt; None</text><!--MD5=[67ea9f8eb7ab97465d83c225b092f5fe]
class Consumer--><rect codeLine="66" fill="#EBEBEB" filter="url(#f1pc32y27dzask)" height="177.5508" id="Consumer" style="stroke:#333333;stroke-width:1.5;" width="453" x="295.5" y="683"/><ellipse cx="488.75" cy="699" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M491.7231,704.6431 Q491.1421,704.9419 490.5029,705.0913 Q489.8638,705.2407 489.1582,705.2407 Q486.6514,705.2407 485.3315,703.5889 Q484.0117,701.937 484.0117,698.8159 Q484.0117,695.6865 485.3315,694.0347 Q486.6514,692.3828 489.1582,692.3828 Q489.8638,692.3828 490.5112,692.5322 Q491.1587,692.6816 491.7231,692.9805 L491.7231,695.7031 Q491.0923,695.1221 490.4988,694.8523 Q489.9053,694.5825 489.2744,694.5825 Q487.9297,694.5825 487.2449,695.6492 Q486.5601,696.7158 486.5601,698.8159 Q486.5601,700.9077 487.2449,701.9744 Q487.9297,703.041 489.2744,703.041 Q489.9053,703.041 490.4988,702.7712 Q491.0923,702.5015 491.7231,701.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="58" x="509.25" y="703.5352">Consumer</text><line style="stroke:#333333;stroke-width:1.5;" x1="296.5" x2="747.5" y1="715" y2="715"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="303.5" y="723"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="201" x="315.5" y="729.6348">connection: pika.BlockingConnection,</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="303.5" y="735.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="157" x="315.5" y="742.5898">internal_queue: queue.Queue</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="303.5" y="748.9102"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="315.5" y="755.5449">queue_name: str</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="303.5" y="761.8652"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="315.5" y="768.5">prefetch_count: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="303.5" y="774.8203"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="315.5" y="781.4551">queue_durable: bool</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="303.5" y="787.7754"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="315.5" y="794.4102">message_requeue: bool</text><line style="stroke:#333333;stroke-width:1.0;" x1="296.5" x2="747.5" y1="800.7305" y2="800.7305"/><ellipse cx="306.5" cy="811.7305" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76" x="315.5" y="815.3652">run() -&gt; None</text><ellipse cx="306.5" cy="824.6855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="315.5" y="828.3203">stop() -&gt; None</text><ellipse cx="306.5" cy="837.6406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="427" x="315.5" y="841.2754">accept(channel: pika.channel.Channel, method: pika.spec.Basic.Deliver) -&gt; None</text><ellipse cx="306.5" cy="850.5957" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="422" x="315.5" y="854.2305">reject(channel: pika.channel.Channel, method: pika.spec.Basic.Deliver) -&gt; None</text><!--MD5=[8eed34a3206921c8108be20124a9894d]
class Receive--><rect codeLine="80" fill="#EBEBEB" filter="url(#f1pc32y27dzask)" height="138.6855" id="Receive" style="stroke:#333333;stroke-width:1.5;" width="341" x="351.5" y="484"/><ellipse cx="495.75" cy="500" fill="#ADD1B2" rx="11" ry="11" style="stroke:#333333;stroke-width:1.0;"/><path d="M498.7231,505.6431 Q498.1421,505.9419 497.5029,506.0913 Q496.8638,506.2407 496.1582,506.2407 Q493.6514,506.2407 492.3315,504.5889 Q491.0117,502.937 491.0117,499.8159 Q491.0117,496.6865 492.3315,495.0347 Q493.6514,493.3828 496.1582,493.3828 Q496.8638,493.3828 497.5112,493.5322 Q498.1587,493.6816 498.7231,493.9805 L498.7231,496.7031 Q498.0923,496.1221 497.4988,495.8523 Q496.9053,495.5825 496.2744,495.5825 Q494.9297,495.5825 494.2449,496.6492 Q493.5601,497.7158 493.5601,499.8159 Q493.5601,501.9077 494.2449,502.9744 Q494.9297,504.041 496.2744,504.041 Q496.9053,504.041 497.4988,503.7712 Q498.0923,503.5015 498.7231,502.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="516.25" y="504.5352">Receive</text><line style="stroke:#333333;stroke-width:1.5;" x1="352.5" x2="691.5" y1="516" y2="516"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="359.5" y="524"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="371.5" y="530.6348">consumer: Consumer</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="359.5" y="536.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="157" x="371.5" y="543.5898">internal_queue: queue.Queue</text><line style="stroke:#333333;stroke-width:1.0;" x1="352.5" x2="691.5" y1="549.9102" y2="549.9102"/><ellipse cx="362.5" cy="560.9102" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="371.5" y="564.5449">start() -&gt; None</text><ellipse cx="362.5" cy="573.8652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="371.5" y="577.5">stop() -&gt; None</text><ellipse cx="362.5" cy="586.8203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="315" x="371.5" y="590.4551">receive() -&gt; typing.Iterable[md.message.MessageInterface]</text><ellipse cx="362.5" cy="599.7754" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="191" x="371.5" y="603.4102">accept(message: Message) -&gt; None</text><ellipse cx="362.5" cy="612.7305" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="186" x="371.5" y="616.3652">reject(message: Message) -&gt; None</text><!--MD5=[caf5bdddd0fb1ee3a50d64ea6c30535d]
link SendInterface to MessageInterface--><path codeLine="40" d="M712,275.02 C712,314.7 712,379 712,379 C712,379 561.18,379 460.15,379 " fill="none" id="SendInterface-MessageInterface" style="stroke:#333333;stroke-width:1.0;"/><polygon fill="#000000" points="586.4384,372.5634,595.9205,371.8281,593.6774,366.3951,586.4384,372.5634" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="600.06" y="375.5684">Sends</text><!--MD5=[8d1ec2c253dbce3519d264e1aeee2a6c]
link HandleInterface to MessageInterface--><path codeLine="41" d="M334.25,121.77 C334.25,177.1 334.25,292.78 334.25,347.95 " fill="none" id="HandleInterface-MessageInterface" style="stroke:#333333;stroke-width:1.0;"/><polygon fill="#000000" points="273.25,231.5153,276.1889,222.4702,270.3111,222.4702,273.25,231.5153" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="282.25" y="231.4284">Handles</text><!--MD5=[26e4c9f53f96b8d60244026918f3e2e8]
link ReceiveInterface to MessageInterface--><path codeLine="42" d="M423.25,288.01 C423.25,307.57 423.25,330.19 423.25,347.93 " fill="none" id="ReceiveInterface-MessageInterface" style="stroke:#333333;stroke-width:1.0;"/><polygon fill="#000000" points="359.25,314.6253,362.1889,305.5802,356.3111,305.5802,359.25,314.6253" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="368.25" y="314.5384">Receives</text><!--MD5=[bf706d96003145ad88542f1673d8eb8f]
link ReceiveApplication to ReceiveInterface--><path codeLine="44" d="M585.25,153.26 C585.25,153.26 585.25,187.83 585.25,187.83 " fill="none" id="ReceiveApplication-ReceiveInterface" style="stroke:#333333;stroke-width:1.0;"/><polygon fill="#333333" points="585.25,200.83,589.25,191.83,585.25,195.83,581.25,191.83,585.25,200.83" style="stroke:#333333;stroke-width:1.0;"/><line style="stroke:#333333;stroke-width:1.0;" x1="585.25" x2="585.25" y1="195.83" y2="187.83"/><polygon fill="#333333" points="585.25,141.26,581.25,147.26,585.25,153.26,589.25,147.26,585.25,141.26" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[d2f3ad44288db5aad64de58a8fb12db1]
link ReceiveApplication to HandleInterface--><path codeLine="45" d="M500.95,91 C500.95,91 490.55,91 490.55,91 " fill="none" id="ReceiveApplication-HandleInterface" style="stroke:#333333;stroke-width:1.0;"/><polygon fill="#333333" points="477.55,91,486.55,95,482.55,91,486.55,87,477.55,91" style="stroke:#333333;stroke-width:1.0;"/><line style="stroke:#333333;stroke-width:1.0;" x1="482.55" x2="490.55" y1="91" y2="91"/><polygon fill="#333333" points="512.95,91,506.95,87,500.95,91,506.95,95,512.95,91" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[78080a69bbc9f5c45489fb5359dadbea]
reverse link MessageInterface to Message--><path d="M299,429.38 C299,429.38 299,496.77 299,496.77 " fill="none" id="MessageInterface-backto-Message" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="292,429.38,299,409.38,306,429.38,292,429.38" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[e40aeedfdc0be0aafaa41630d367659e]
reverse link SendInterface to Send--><path d="M839.5,295.26 C839.5,295.26 839.5,503.33 839.5,503.33 " fill="none" id="SendInterface-backto-Send" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="832.5,295.26,839.5,275.26,846.5,295.26,832.5,295.26" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[cbe2dec1284ace3f79706db8c1b0d779]
reverse link ReceiveInterface to Receive--><path d="M558.75,308.12 C558.75,308.12 558.75,483.91 558.75,483.91 " fill="none" id="ReceiveInterface-backto-Receive" style="stroke:#333333;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="551.75,308.12,558.75,288.12,565.75,308.12,551.75,308.12" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[30a769a4d0d1a451f6e65e91d5aaf647]
link Receive to Consumer--><path codeLine="91" d="M522,635.24 C522,635.24 522,669.94 522,669.94 " fill="none" id="Receive-Consumer" style="stroke:#333333;stroke-width:1.0;"/><polygon fill="#333333" points="522,682.94,526,673.94,522,677.94,518,673.94,522,682.94" style="stroke:#333333;stroke-width:1.0;"/><line style="stroke:#333333;stroke-width:1.0;" x1="522" x2="522" y1="677.94" y2="669.94"/><polygon fill="#333333" points="522,623.24,518,629.24,522,635.24,526,629.24,522,623.24" style="stroke:#333333;stroke-width:1.0;"/><!--MD5=[c517211cb8c675ba72379200f2320d4f]
@startuml

skinparam class {
  BackgroundColor #ebebeb
  ArrowColor      #333
  BorderColor     #333
}

skinparam lineType ortho

package md.message {
  interface MessageInterface {
    + get_payload() -> typing.Any
  }

  interface SendInterface {
    + send(message: MessageInterface) -> None
  }

  interface ReceiveInterface{
    + receive() -> typing.Iterable[MessageInterface]
    - -
    + accept(message: MessageInterface) -> None
    + reject(message: MessageInterface) -> None
  }

  interface HandleInterface {
    + handle(message: MessageInterface) -> None
  }

  class ReceiveApplication {
    - receive_message: ReceiveInterface
    - handle_message: HandleInterface
    - retry_exception: Union[Exception, type, Tuple[Union[Exception, type]]] = None
    - - -
    + run() -> None
  }
}


SendInterface - - MessageInterface : "Sends >"
HandleInterface - - - MessageInterface : "Handles >"
ReceiveInterface - - MessageInterface : "Receives >"

ReceiveApplication *-> ReceiveInterface
ReceiveApplication *-> HandleInterface


package md.message.rabbitmq.pika {
  class Message implements MessageInterface {
    - body: bytes
    - channel: pika.channel.Channel = None
    - method_frame: pika.spec.Basic.Deliver = None
    - header_frame: pika.spec.BasicProperties = None
    - - -
    + get_payload() -> bytes
  }

  class Send implements SendInterface {
    - connection: pika.BlockingConnection
    - exchange: str
    - routing_key: str
    - - -
    + send(message: md.message.MessageInterface) -> None
  }

  class Consumer {
    - connection: pika.BlockingConnection,
    - internal_queue: queue.Queue
    - queue_name: str
    - prefetch_count: int
    - queue_durable: bool
    - message_requeue: bool
    - - -
    + run() -> None
    + stop() -> None
    + accept(channel: pika.channel.Channel, method: pika.spec.Basic.Deliver) -> None
    + reject(channel: pika.channel.Channel, method: pika.spec.Basic.Deliver) -> None
  }

  class Receive implements ReceiveInterface {
      - consumer: Consumer
      - internal_queue: queue.Queue
      - - -
      + start() -> None
      + stop() -> None
      + receive() -> typing.Iterable[md.message.MessageInterface]
      + accept(message: Message) -> None
      + reject(message: Message) -> None
  }

  Receive *- -> Consumer
'  Send - - Message
'  Receive - - Message
}


@enduml

@startuml

skinparam class {
  BackgroundColor #ebebeb
  ArrowColor      #333
  BorderColor     #333
}

skinparam lineType ortho

package md.message {
  interface MessageInterface {
    + get_payload() -> typing.Any
  }

  interface SendInterface {
    + send(message: MessageInterface) -> None
  }

  interface ReceiveInterface{
    + receive() -> typing.Iterable[MessageInterface]
    - -
    + accept(message: MessageInterface) -> None
    + reject(message: MessageInterface) -> None
  }

  interface HandleInterface {
    + handle(message: MessageInterface) -> None
  }

  class ReceiveApplication {
    - receive_message: ReceiveInterface
    - handle_message: HandleInterface
    - retry_exception: Union[Exception, type, Tuple[Union[Exception, type]]] = None
    - - -
    + run() -> None
  }
}


SendInterface - - MessageInterface : "Sends >"
HandleInterface - - - MessageInterface : "Handles >"
ReceiveInterface - - MessageInterface : "Receives >"

ReceiveApplication *-> ReceiveInterface
ReceiveApplication *-> HandleInterface


package md.message.rabbitmq.pika {
  class Message implements MessageInterface {
    - body: bytes
    - channel: pika.channel.Channel = None
    - method_frame: pika.spec.Basic.Deliver = None
    - header_frame: pika.spec.BasicProperties = None
    - - -
    + get_payload() -> bytes
  }

  class Send implements SendInterface {
    - connection: pika.BlockingConnection
    - exchange: str
    - routing_key: str
    - - -
    + send(message: md.message.MessageInterface) -> None
  }

  class Consumer {
    - connection: pika.BlockingConnection,
    - internal_queue: queue.Queue
    - queue_name: str
    - prefetch_count: int
    - queue_durable: bool
    - message_requeue: bool
    - - -
    + run() -> None
    + stop() -> None
    + accept(channel: pika.channel.Channel, method: pika.spec.Basic.Deliver) -> None
    + reject(channel: pika.channel.Channel, method: pika.spec.Basic.Deliver) -> None
  }

  class Receive implements ReceiveInterface {
      - consumer: Consumer
      - internal_queue: queue.Queue
      - - -
      + start() -> None
      + stop() -> None
      + receive() -> typing.Iterable[md.message.MessageInterface]
      + accept(message: Message) -> None
      + reject(message: Message) -> None
  }

  Receive *- -> Consumer
}


@enduml

PlantUML version 1.2022.0(Tue Jan 11 19:16:42 MSK 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ru
Country: RU
--></g></svg>